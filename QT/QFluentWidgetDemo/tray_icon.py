import sys

from PySide6.QtWidgets import QWidget, QApplication, QSystemTrayIcon, QHBoxLayout, QLabel
from PySide6.QtGui import QIcon
from qfluentwidgets import *


# ç³»ç»Ÿæ‰˜ç›˜
class SystemTrayIcon(QSystemTrayIcon):

    def __init__(self, parent):
        super().__init__(parent=parent)
        self.setIcon(parent.windowIcon())

        self.menu = SystemTrayMenu(parent=parent)
        self.menu.addActions([
            Action('ğŸ¤   å”±'),
            Action('ğŸ•º   è·³'),
            Action('ğŸ¤˜ğŸ¼   RAP'),
            Action('ğŸ¶   Music'),
            Action('ğŸ€   ç¯®çƒ', triggered=self.ikun),
        ])
        self.setContextMenu(self.menu)

    def ikun(self):
        print("""å·…å³°äº§ç”Ÿè™šä¼ªçš„æ‹¥æŠ¤ï¼Œé»„æ˜è§è¯çœŸæ­£çš„ä½¿å¾’ ğŸ€

                       â °â¢·â¢¿â „
                   â €â €â €â €â €â£¼â£·â£„
                   â €â €â£¤â£¿â£‡â£¿â£¿â£§â£¿â¡„
                   â¢´â ¾â ‹â €â €â »â£¿â£·â£¿â£¿â¡€
                   â €â¢€â£¿â£¿â¡¿â¢¿â ˆâ£¿
                   â €â €â €â¢ â£¿â¡¿â â €â¡Šâ €â ™
                   â €â €â €â¢¿â£¿â €â €â ¹â£¿
                   â €â €â €â €â ¹â£·â¡€â €â£¿â¡„
                   â €â €â €â €â£€â£¼â£¿â €â¢ˆâ£§
        """)


class Demo(QWidget):

    def __init__(self):
        super().__init__()
        self.setLayout(QHBoxLayout())
        self.label = QLabel('Right-click system tray icon', self)
        self.layout().addWidget(self.label)

        self.resize(500, 500)
        self.setWindowIcon(Icon(FluentIcon.GITHUB))
        self.systemTrayIcon = SystemTrayIcon(self)
        self.systemTrayIcon.setToolTip('Cialloï½(âˆ ãƒ»Ï‰< )âŒ’â˜†')
        self.systemTrayIcon.show()


if __name__ == '__main__':
    app = QApplication(sys.argv)
    ex = Demo()
    ex.show()
    sys.exit(app.exec())